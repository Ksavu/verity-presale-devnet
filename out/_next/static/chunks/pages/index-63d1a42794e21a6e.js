(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7215)}])},7215:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Home}});var r=n(5893),o=n(7294),a=n(3182),i=n(7385),s=n(5145),l=n(5152),d=n.n(l),c=n(4306);let p=d()(()=>n.e(409).then(n.bind(n,2409)).then(e=>e.WalletMultiButton),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),WalletConnect=e=>{let{onConnect:t}=e,{publicKey:n,connected:a}=(0,c.O)(),[i,s]=(0,o.useState)(!1);return((0,o.useEffect)(()=>s(!0),[]),(0,o.useEffect)(()=>{t&&t(n?n.toBase58():null)},[n,a,t]),i)?(0,r.jsx)("div",{style:{width:"100%",textAlign:"center",marginBottom:"20px"},children:(0,r.jsx)(p,{style:{padding:"10px 20px",backgroundColor:"#4facfe",color:"#fff",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"}})}):null};var u=n(5423),h=n(2655),x=n(8467);let f=[],addBuyer=async(e,t,n,r)=>{let o={wallet:e,amountUSD:t,referral:n,stablecoin:r};f.push(o);let a=new CustomEvent("presale_update",{detail:o});window.dispatchEvent(a);try{await fetch("https://buy.veritynetwork.io/php_backend/add_purchase.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})}catch(e){console.error("Backend error:",e)}},BuyPanel=e=>{let{connection:t}=e,{publicKey:n,sendTransaction:i,connected:s}=(0,c.O)(),[l,d]=(0,o.useState)(""),[p,f]=(0,o.useState)(""),[g,y]=(0,o.useState)(""),b=new a.PublicKey("EzchD1HQr4JDdCTCjoqj2y7U8XdhgsEebcP5bSwoQxHa"),m=new a.PublicKey("7Mw8VHsi9BdA9P2XGXKRHqyWK6hbvaMrcAQoaPsTP9Vo"),w=new a.PublicKey("7ALEjJAikbPcRcTRT6722UEa18tHLf5cnz72SABy5NUg"),handleBuy=async e=>{if(!s||!n)return;let r=Number(l);if(isNaN(r)||r<=0)return y("Enter a valid amount");if(r<500)return y("Minimum purchase is $".concat(500));if(r>2e4)return y("Maximum purchase is $".concat(2e4));if(!p.trim())return y("Referral code is required!");try{let o="USDT"===e?b:m,s=await (0,u.Am)(o,n),l=await (0,u.Am)(o,w),c=new a.Transaction().add((0,h.$B)(s,l,n,1e6*r,[],x.H_)),g=await i(c,t);await t.confirmTransaction(g,"confirmed"),y("You bought $".concat(r," $VTY with ").concat(e)),d(""),f(""),addBuyer(n.toBase58(),r,p.trim(),e)}catch(e){console.error(e),y("Transaction failed: "+e.message)}};return(0,r.jsxs)("div",{style:{background:"#111d33",padding:"30px",borderRadius:"12px",textAlign:"center",width:"320px",boxShadow:"0 0 20px rgba(0, 255, 255, 0.3)",marginBottom:"20px"},children:[(0,r.jsxs)("p",{style:{marginBottom:"10px",fontSize:"14px",color:"#4facfe"},children:["Minimum: $",500," â€” Maximum: $",2e4]}),(0,r.jsx)("input",{type:"number",placeholder:"Enter USD amount",value:l,onChange:e=>d(e.target.value),style:{width:"80%",padding:"8px",margin:"10px 0",borderRadius:"6px",border:"1px solid #4facfe"}}),(0,r.jsx)("input",{type:"text",placeholder:"Referral code (required)",value:p,onChange:e=>f(e.target.value),style:{width:"80%",padding:"8px",margin:"10px 0",borderRadius:"6px",border:"1px solid #4facfe"}}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"10px"},children:[(0,r.jsxs)("button",{onClick:()=>handleBuy("USDT"),style:{padding:"8px 12px",background:s?"#26A17B":"#555",border:"none",borderRadius:"8px",cursor:s?"pointer":"not-allowed",color:"#fff",fontWeight:"bold",display:"flex",alignItems:"center",gap:"5px"},disabled:!s,children:[(0,r.jsx)("img",{src:"/usdt.png",alt:"USDT",style:{width:"16px",height:"16px"}}),"Buy with USDT"]}),(0,r.jsxs)("button",{onClick:()=>handleBuy("USDC"),style:{padding:"8px 12px",background:s?"#1E90FF":"#555",border:"none",borderRadius:"8px",cursor:s?"pointer":"not-allowed",color:"#fff",fontWeight:"bold",display:"flex",alignItems:"center",gap:"5px"},disabled:!s,children:[(0,r.jsx)("img",{src:"/usdc.png",alt:"USDC",style:{width:"16px",height:"16px"}}),"Buy with USDC"]})]}),g&&(0,r.jsx)("p",{style:{marginTop:"15px",color:"#4facfe"},children:g})]})},ProgressBar=()=>{let[e,t]=(0,o.useState)(1e5),[n,a]=(0,o.useState)(!1);(0,o.useEffect)(()=>{a(!0)},[]);let fetchTotal=async()=>{try{let e=await fetch("https://buy.veritynetwork.io/php_backend/get_purchases.php"),n=await e.json(),r=n.reduce((e,t)=>e+Number(t.amountUSD||0),0);t(1e5+r)}catch(e){t(1e5)}};return((0,o.useEffect)(()=>{if(!n)return;fetchTotal();let handleUpdate=()=>{fetchTotal()};return window.addEventListener("presale_update",handleUpdate),()=>window.removeEventListener("presale_update",handleUpdate)},[n]),n)?(0,r.jsxs)("div",{style:{margin:"20px 0"},children:[(0,r.jsx)("div",{style:{background:"#111d33",borderRadius:"8px",height:"20px",width:"300px"},children:(0,r.jsx)("div",{style:{height:"100%",width:"".concat(Math.min(e/2e5*100,100),"%"),background:"linear-gradient(270deg, #4facfe, #00f2fe)",borderRadius:"8px",transition:"width 0.5s"}})}),(0,r.jsxs)("p",{children:[e.toLocaleString()," / ",2e5.toLocaleString()," USD"]})]}):null};var components_NetworkNodes=()=>{let e=(0,o.useRef)(null),[t,n]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{n(!0)},[]),(0,o.useEffect)(()=>{if(!t)return;let n=e.current;if(!n)return;let r=n.getContext("2d");if(!r)return;let resize=()=>{n.width=window.innerWidth,n.height=window.innerHeight};resize();let o=Array.from({length:30},()=>({x:Math.random()*n.width,y:Math.random()*n.height,vx:(Math.random()-.5)*1.2,vy:(Math.random()-.5)*1.2,r:3+3*Math.random()})),animate=()=>{r.clearRect(0,0,n.width,n.height);for(let e=0;e<o.length;e++)for(let t=e+1;t<o.length;t++){let n=o[e].x-o[t].x,a=o[e].y-o[t].y,i=Math.sqrt(n*n+a*a);i<120&&(r.strokeStyle="rgba(0,255,255,".concat(1-i/120,")"),r.beginPath(),r.moveTo(o[e].x,o[e].y),r.lineTo(o[t].x,o[t].y),r.stroke())}o.forEach(e=>{e.x+=e.vx,e.y+=e.vy,(e.x<0||e.x>n.width)&&(e.vx*=-1),(e.y<0||e.y>n.height)&&(e.vy*=-1),r.beginPath(),r.arc(e.x,e.y,e.r,0,2*Math.PI),r.fillStyle="rgba(0,255,255,0.7)",r.fill()}),requestAnimationFrame(animate)};return animate(),window.addEventListener("resize",resize),()=>window.removeEventListener("resize",resize)},[t]),t)?(0,r.jsx)("canvas",{ref:e,style:{position:"absolute",inset:0,zIndex:0,pointerEvents:"none"}}):null};function AdminPanel(){let[e,t]=(0,o.useState)(!1),[n,a]=(0,o.useState)([]),fetchBuyers=async()=>{try{let e=await fetch("https://buy.veritynetwork.io/php_backend/get_purchases.php"),t=await e.json();a(t)}catch(e){console.error("Could not fetch buyers:",e)}};(0,o.useEffect)(()=>{fetchBuyers();let handleUpdate=()=>fetchBuyers();return window.addEventListener("presale_update",handleUpdate),()=>window.removeEventListener("presale_update",handleUpdate)},[]),(0,o.useEffect)(()=>{let e=setInterval(()=>t(e=>!e),1e3);return()=>clearInterval(e)},[]);let getReferralColor=e=>{let t=["#4facfe","#00f2fe","#ff6a00","#ee0979","#26A17B","#1E90FF"],n=0;for(let t=0;t<e.length;t++)n+=e.charCodeAt(t);return t[n%t.length]};return(0,r.jsxs)("div",{style:{background:"#111d33",padding:"20px",borderRadius:"12px",width:"350px",color:"#fff",marginTop:"20px",textAlign:"center",boxShadow:"0 0 20px rgba(0, 255, 255, 0.3)"},children:[(0,r.jsx)("h2",{children:"Verity Network"}),(0,r.jsxs)("p",{style:{marginTop:"10px",fontSize:"16px",lineHeight:"1.5"},children:["Unlock"," ",(0,r.jsx)("span",{style:{color:e?"#4facfe":"#00f2fe",fontWeight:"bold",transition:"color 0.5s"},children:"privileged access"})," ","to the Verity Network.",(0,r.jsx)("br",{}),"Be among the first to explore our decentralized ecosystem.",(0,r.jsx)("br",{}),"Early entry means"," ",(0,r.jsx)("span",{style:{color:e?"#ff6a00":"#ee0979",fontWeight:"bold",transition:"color 0.5s"},children:"exclusive opportunities"}),(0,r.jsx)("br",{}),"Join now and experience the future of blockchain innovation."]}),n.length>0&&(0,r.jsxs)("div",{style:{marginTop:"20px",maxHeight:"200px",overflowY:"auto",borderTop:"1px solid #333",paddingTop:"10px"},children:[(0,r.jsx)("h3",{style:{textAlign:"center",marginBottom:"10px"},children:"Purchases"}),n.map((e,t)=>(0,r.jsxs)("div",{style:{padding:"6px 8px",borderBottom:"1px solid #333",display:"flex",justifyContent:"space-between",fontSize:"14px",borderRadius:"6px",background:"linear-gradient(90deg, #111d33 25%, #1a2a50 50%, #111d33 75%)",backgroundSize:"200% 100%",transition:"background-position 0.5s",cursor:"default"},onMouseEnter:e=>e.currentTarget.style.backgroundPosition="100% 0",onMouseLeave:e=>e.currentTarget.style.backgroundPosition="0 0",children:[(0,r.jsxs)("span",{children:[e.wallet.slice(0,8),"...",e.wallet.slice(-4)]}),(0,r.jsxs)("span",{children:[e.amountUSD," USD"]}),e.referral&&(0,r.jsx)("span",{style:{color:getReferralColor(e.referral),fontWeight:"bold"},children:e.referral})]},t)),(0,r.jsx)("button",{onClick:()=>{window.open("https://buy.veritynetwork.io/php_backend/export_leaderboard.php","_blank")},style:{marginTop:"10px",padding:"6px 10px",borderRadius:"6px",border:"none",background:"#4facfe",color:"#fff",cursor:"pointer"},children:"Export Public Leaderboard"}),(0,r.jsx)("button",{onClick:()=>{window.open("https://buy.veritynetwork.io/php_backend/export_admin.php?wallet=7ALEjJAikbPcRcTRT6722UEa18tHLf5cnz72SABy5NUg","_blank")},style:{marginTop:"10px",padding:"6px 10px",borderRadius:"6px",border:"none",background:"#26A17B",color:"#fff",cursor:"pointer",marginLeft:"5px"},children:"Export Full CSV (Admin)"})]})]})}function Home(){let e=(0,o.useMemo)(()=>"https://api.devnet.solana.com",[]),t=(0,o.useMemo)(()=>new a.Connection(e),[e]),n=(0,o.useMemo)(()=>[new s.O],[]);return(0,r.jsx)(i.n,{wallets:n,autoConnect:!0,children:(0,r.jsx)(MainContent,{connection:t})})}let MainContent=e=>{let{connection:t}=e,[n,a]=(0,o.useState)(null);return(0,r.jsxs)("div",{style:{fontFamily:"Arial, sans-serif",background:"#0a0f25",minHeight:"100vh",width:"100%",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",overflow:"hidden",padding:"20px"},children:[(0,r.jsx)(components_NetworkNodes,{}),(0,r.jsxs)("div",{style:{position:"relative",zIndex:1,width:"100%",maxWidth:"500px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)("img",{src:"/logo.png",alt:"Verity Logo",style:{width:"150px",marginBottom:"30px"}}),(0,r.jsx)("h1",{style:{marginBottom:"10px"},children:"VERITY Presale"}),(0,r.jsx)("p",{style:{marginBottom:"20px",fontSize:"18px"},children:"1 $VTY = 1 USD"}),(0,r.jsx)(WalletConnect,{onConnect:a}),n&&(0,r.jsxs)("p",{style:{color:"#4facfe",marginBottom:"20px"},children:["Connected: ",n]}),(0,r.jsx)(ProgressBar,{}),(0,r.jsx)(BuyPanel,{connection:t}),(0,r.jsx)(AdminPanel,{})]})]})}}},function(e){e.O(0,[101,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);